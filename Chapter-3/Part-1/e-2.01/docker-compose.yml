services:
  log-output:
    image: log_output_img
    container_name: log_output_ctr
    build:
      context: .
      dockerfile: ./log_output/Dockerfile
    restart: unless-stopped
    ports:
      - "${LOG_OUTPUT_PORT}:8081"
    environment:
      - PORT=8081
      - PING_PONG_SVC_URL=http://ping-pong:8082 # Use service name for discovery

  ping-pong:
    image: ping_pong_img
    container_name: ping_pong_ctr
    build:
      context: .
      dockerfile: ./ping_pong/Dockerfile
    restart: unless-stopped
    ports:
      - "${PING_PONG_PORT}:8082"
    environment:
      - PORT=8082
